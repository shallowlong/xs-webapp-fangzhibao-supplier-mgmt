<%- include('header.html', {addCss: ['main' ]}) -%>

<div class="container">
	<div class="page-header">
		<h1>纺支宝ERP供货商管理WebApp</h1>
		<% if (!isProduction) { %>
		<span class="dev-badge">DEV</span>
		<% } %>
		<p class="lead text-muted">查看供应商的哪些信息发生了变化</p>
	</div>

	<hr class="my-4" />

	<div class="card">
		<div
			class="card-header d-flex justify-content-between align-items-center">
			<h5 class="mb-0">供应商操作历史记录</h5>
			<button
				type="button"
				class="btn btn-info btn-sm btn-back"
				onclick="goBack()">
				返回供应商列表
			</button>
		</div>
		<div class="card-body">
			<table
				id="historyTable"
				class="table table-striped table-bordered"
				style="width: 100%">
				<thead>
					<tr>
						<th>历史记录ID</th>
						<th>操作类型</th>
						<th>供应商ID</th>
						<th>上传文件ID</th>
						<th>原始数据</th>
						<th>新数据</th>
						<th>操作时间</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
		</div>
	</div>

	<div
		class="modal fade"
		id="compareModal"
		tabindex="-1"
		aria-labelledby="compareModalLabel"
		aria-hidden="true">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="compareModalLabel">
						供应商数据对比
					</h5>
					<button
						type="button"
						class="btn-close"
						data-bs-dismiss="modal"
						aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<div class="row">
						<div class="col-md-6">
							<h6 class="text-danger mb-3">原始数据</h6>
							<div
								id="originData"
								class="border p-3 bg-light rounded overflow-auto"
								style="max-height: 500px"></div>
						</div>
						<div class="col-md-6">
							<h6 class="text-success mb-3">新数据</h6>
							<div
								id="newData"
								class="border p-3 bg-light rounded overflow-auto"
								style="max-height: 500px"></div>
						</div>
					</div>
				</div>
				<div class="modal-footer">
					<button
						type="button"
						class="btn btn-secondary"
						data-bs-dismiss="modal">
						关闭
					</button>
				</div>
			</div>
		</div>
	</div>

	<%- include('footer.html', {addJs: ['history' ]}) -%>
</div>
